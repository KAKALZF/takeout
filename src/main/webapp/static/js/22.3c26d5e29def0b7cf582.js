webpackJsonp([22],{285:function(e,t,a){function n(e){a(887)}var l=a(314)(a(819),a(868),n,null,null);e.exports=l.exports},314:function(e,t){e.exports=function(e,t,a,n,l){var o,r=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,r=e.default);var i="function"==typeof r?r.options:r;t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),n&&(i._scopeId=n);var c;if(l?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},i._ssrRegister=c):a&&(c=a),c){var p=i.functional,d=p?i.render:i.beforeCreate;p?i.render=function(e,t){return c.call(t),d(e,t)}:i.beforeCreate=d?[].concat(d,c):[c]}return{esModule:o,exports:r,options:i}}},325:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"pageHelper",props:["currentPage","total"],methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.$emit("sizeChange",e)},handleCurrentChange:function(e){console.log("当前页: "+e),this.$emit("currentChange",e)}}}},326:function(e,t,a){t=e.exports=a(306)(!1),t.push([e.i,"",""])},327:function(e,t,a){function n(e){a(329)}var l=a(314)(a(325),a(328),n,"data-v-41dbbe04",null);e.exports=l.exports},328:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},329:function(e,t,a){var n=a(326);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(307)("74cb2d5c",n,!0,{})},819:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(327),l=a.n(n),o=a(12),r=a.n(o);document.title="卡板列表",t.default={name:"batchOperateList",components:{pageHelper:l.a},data:function(){return{page:1,size:10,total:120,activeName:"close",tabName:"close",cardOperateType:"close",searchFormData:{comboCode:null,beginId:null,endId:null},channels:[{label:"通道1",value:1},{label:"通道2",value:2},{label:"通道3",value:3}],combos:[{label:"套餐1",value:1},{label:"套餐2",value:2},{label:"套餐3",value:3}],tableData:[],multipleSelection:[]}},methods:{handleClick:function(e,t){this.tabName=e.name,this.cardOperateType=e.name,console.log("tab点击操作",this.name,e,t),this.getData(this.page,this.size)},handleSelectionChange:function(e){console.log("选项改变触发"),console.log(e)},searchSubmit:function(){this.getData(this.page,this.size)},operateSubmit:function(){var e=this.getUrlByTatbName(this.tabName);console.log("操作提交==url",e),r()({method:"post",url:""+e,dataType:"json",params:{comboCode:this.searchFormData.comboCode,beginId:this.searchFormData.beginId,endId:this.searchFormData.endId,page:this.page,size:this.size,cardOperateType:this.cardOperateType}}).then(function(e){0==e.data.code&&console.log("批量操作请求成功",e)},function(e){console.log("批量操作请求成功")})},getUrlByTatbName:function(e){var t="";switch(e){case"sale":return t="/card/sale";case"close":return t="/card/close";case"open":return t="/card/open";case"cancel":return t="/card/cancel";case"export":return t="/card/export";default:return t}},handleSizeChange:function(e){this.size=e,this.getData(this.page,this.size)},handleCurrentChange:function(e){this.page=e,this.getData(this.page,this.size)},getData:function(e,t){var a=this;console.log("page= "+e,"size="+t),this.page=e||1,this.size=t||10;var n=this.$loading(this.options);r()({method:"get",url:"/card/operateQuery",dataType:"json",params:{comboCode:this.searchFormData.comboCode,beginId:this.searchFormData.beginId,endId:this.searchFormData.endId,page:this.page,size:this.size,cardOperateType:this.cardOperateType}}).then(function(e){0==e.data.code&&(console.log("请求成功res",e),a.tableData=e.data.data.list,a.total=e.data.data.total)},function(e){console.log("请求失败"),a.$nextTick(function(){console.log("关闭loading"),n.close()})}),this.$nextTick(function(){console.log("关闭loading"),n.close()})}},mounted:function(){this.options={text:"加载中...",background:"rgba(0,0,0,0,1)",target:document.getElementById("batchOperateList")}}}},847:function(e,t,a){t=e.exports=a(306)(!1),t.push([e.i,".my-tabs .el-tabs__header{text-align:center}.my-tabs .el-tabs__nav-wrap{display:inline-block}",""])},868:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{staticClass:"my-tabs",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"停机",name:"close"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"复机",name:"open"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"出售",name:"sale"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"导出",name:"export"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"取消测试期",name:"cancel"}}),e._v(" "),a("div",[a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchFormData}},[a("el-form-item",{attrs:{label:"id"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"起始id"},model:{value:e.searchFormData.beginId,callback:function(t){e.$set(e.searchFormData,"beginId",t)},expression:"searchFormData.beginId"}}),e._v("\n                        -\n                        "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"结束id"},model:{value:e.searchFormData.endId,callback:function(t){e.$set(e.searchFormData,"endId",t)},expression:"searchFormData.endId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"套餐"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFormData.comboCode,callback:function(t){e.$set(e.searchFormData,"comboCode",t)},expression:"searchFormData.comboCode"}},e._l(e.combos,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.operateSubmit}},[e._v("操作")])],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,"tooltip-effect":"dark",height:"500px","max-height":"500px",type:"expand",id:"batchOperateList"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iccid",label:"卡号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",label:"通道",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"poolName",label:"流量池",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"comboName",label:"套餐",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"used",label:"已使用流量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"left",label:"剩余流量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"累计使用流量",s:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"客户",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"period",label:"生命期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"卡状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"closeStatus",label:"是否主动停机",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"enterTime",label:"入库时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"my_pagenation"},[a("pageHelper",{attrs:{"current-page":e.page,total:e.total},on:{sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange}})],1)],1)],1)],1)},staticRenderFns:[]}},887:function(e,t,a){var n=a(847);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(307)("892becac",n,!0,{})}});