webpackJsonp([11],{283:function(e,t,n){var a=n(314)(n(817),n(877),null,null,null);e.exports=a.exports},314:function(e,t){e.exports=function(e,t,n,a,i){var r,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,o=e.default);var s="function"==typeof o?o.options:o;t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),a&&(s._scopeId=a);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},s._ssrRegister=c):n&&(c=n),c){var u=s.functional,p=u?s.render:s.beforeCreate;u?s.render=function(e,t){return c.call(t),p(e,t)}:s.beforeCreate=p?[].concat(p,c):[c]}return{esModule:r,exports:o,options:s}}},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"pageHelper",props:["currentPage","total"],methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.$emit("sizeChange",e)},handleCurrentChange:function(e){console.log("当前页: "+e),this.$emit("currentChange",e)}}}},326:function(e,t,n){t=e.exports=n(306)(!1),t.push([e.i,"",""])},327:function(e,t,n){function a(e){n(329)}var i=n(314)(n(325),n(328),a,"data-v-41dbbe04",null);e.exports=i.exports},328:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},329:function(e,t,n){var a=n(326);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(307)("74cb2d5c",a,!0,{})},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"pagination",created:function(){this.page=this.currPage},data:function(){return{currPage:1}},methods:{turning:function(){var e=this.$refs.input.value;if(!/^-?\d+$/.test(e))return!1;e=parseInt(e),e=e<1?1:e,e=e>this.totalPage?this.totalPage:e,this.currPage=e,this.$refs.input.value=e,this.$emit("change-page",e)},prevPage:function(){if(this.currPage<=1)return!1;this.$emit("change-page",--this.currPage)},nextPage:function(){if(this.currPage>=this.totalPage)return!1;this.$emit("change-page",++this.currPage)}},props:{totalPage:{require:!0},initPage:{default:1}}}},343:function(e,t,n){t=e.exports=n(306)(!1),t.push([e.i,".pagination{float:right}.pagination a,.pagination input{-webkit-box-sizing:border-box;box-sizing:border-box;height:32px;line-height:32px;width:70px;padding:0 10px;text-align:center;border:1px solid #eaeef0;border-radius:4px;display:inline-block;vertical-align:middle}.pagination a{color:#7c8ba6}.pagination input{margin:0 10px}.pagination span{font-size:16px;color:#7c8ba6;margin:0 10px}",""])},346:function(e,t,n){function a(e){n(348)}var i=n(314)(n(342),n(347),a,null,null);e.exports=i.exports},347:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination"},[n("a",{attrs:{href:"javascript:"},on:{click:e.prevPage}},[e._v("上一页")]),e._v(" "),n("span",[e._v(e._s(e.currPage)+"/"+e._s(e.totalPage))]),e._v(" "),n("a",{attrs:{href:"javascript:"},on:{click:e.nextPage}},[e._v("下一页")]),e._v(" "),n("input",{ref:"input",attrs:{type:"text",maxlength:"5"},domProps:{value:e.currPage},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.turning(t):null}}}),e._v(" "),n("a",{attrs:{href:"javascript:"},on:{click:e.turning}},[e._v("跳转")])])},staticRenderFns:[]}},348:function(e,t,n){var a=n(343);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(307)("33086016",a,!0,{})},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n.n(a),r=n(346),o=n.n(r),l=n(13),s=n(327),c=n.n(s);document.title="客户流水",t.default={name:"customerStreamList",components:{pagination:o.a,pageHelper:c.a},data:function(){return{formInline:{dealType:null,deal_type_list:[{text:"全部",code:null},{text:"充值",code:"1"},{text:"扣款",code:"2"}],customer:null,customer_list:[{text:"全部",code:null}]},rechargeAmount:0,consumeAmount:0,balance:0,tableData:[],totalPage:0,currentPage:1,pageSize:10,total:0,loading:null,pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},times:[]}},mounted:function(){this.getCustomer(),this.getData()},methods:{getCustomer:function(){var e=this;i()({url:"am/findCustomer"}).then(function(t){0==t.data.code&&(e.formInline.customer_list=e.formInline.customer_list.concat(t.data.data.map(function(e){return{text:e.customerName,code:e.customerId}})))})},getData:function(e,t){var a=this;e=e||1,t=t||10;var r=null,o=null;if(this.times.length>0){var s=this.times[0],c=this.times[1];r=n.i(l.timeFormat)(s,"yyyy-MM-dd hh:mm:ss"),o=n.i(l.timeFormat)(c,"yyyy-MM-dd hh:mm:ss")}var u=document.getElementById("customerSteamList");this.loading=this.$loading({text:"加载中...",background:"rgba(0,0,0,0,1)",target:u,spinner:"el-icon-loading"}),i.a.get("/customerFund/query",{params:{queryType:2,type:this.formInline.dealType,fundCustomerId:this.formInline.customer,beginTime:r,endTime:o,page:e,size:t}}).then(function(n){a.loading.close(),0==n.data.code&&(a.tableData=n.data.data.list,a.totalPage=Math.ceil(n.data.data.total/t),a.total=Math.ceil(n.data.data.total),a.pageSize=t,a.currentPage=e)},function(e){return a.loading.close()})},handleSizeChange:function(e){this.pageSize=e,this.getData(1,this.pageSize)},handleCurrentChange:function(e){this.getData(e,this.pageSize)},handleClick:function(e){}}}},877:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"交易类型:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.dealType,callback:function(t){e.$set(e.formInline,"dealType",t)},expression:"formInline.dealType"}},e._l(e.formInline.deal_type_list,function(e){return n("el-option",{key:e.code,attrs:{value:e.code,label:e.text}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"客户:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.customer,callback:function(t){e.$set(e.formInline,"customer",t)},expression:"formInline.customer"}},e._l(e.formInline.customer_list,function(e){return n("el-option",{key:e.code,attrs:{value:e.code,label:e.text}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"日期: "}},[[n("div",{staticClass:"block"},[n("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})],1)]],2),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getData()}}},[e._v("查询")])],1)],1),e._v(" "),n("div",[n("label",[e._v("充值总额: "+e._s(e.rechargeAmount))]),e._v(" "),n("label",[e._v("扣款总额: "+e._s(e.consumeAmount))]),e._v(" "),n("label",[e._v("平台余额: "+e._s(e.balance))])]),e._v(" "),n("el-table",{staticClass:"c-no-wrap",staticStyle:{width:"100%"},attrs:{id:"customerSteamList",data:e.tableData,height:"500px","max-height":"500px",size:"500px","highlight-current-row":!0}},[n("el-table-column",{attrs:{align:"center",label:"流水金额",prop:"amount"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"交易类型",prop:"type"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"客户",prop:"customerName"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"备注",prop:"remark"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"日期",prop:"createTime"}})],1),e._v(" "),n("div",[n("pageHelper",{attrs:{"current-page":e.currentPage,total:e.total},on:{sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}}});